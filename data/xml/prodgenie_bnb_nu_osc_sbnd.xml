<?xml version="1.0"?>
  <!-- Production Project -->
  <!DOCTYPE project [
  <!ENTITY release "v08_57_00">
  <!ENTITY file_type "mc">
  <!ENTITY run_type "physics">
  <!ENTITY name "nu_osc">
  <!ENTITY tag "sbnd">
]>

<project name="&name;">
    
  <!-- Project size -->
  <numevents>1000000</numevents>
  
  <!-- Operating System -->
  <os>SL7</os>

  <role>Analysis</role>  
  <group>sbnd</group>


  <!-- Batch resources -->
  <resource>DEDICATED,OPPORTUNISTIC,OFFSITE</resource>
  <blacklist>SU-ITS,UChicago</blacklist>

  <!-- Larsoft information -->
  <larsoft>
    <tag>&release;</tag>
    <qual>e19:prof</qual>
    <!--<local>/pnfs/sbnd/resilient/users/tham/sbncode_nue_prod/tarfiles/sbncode_larsim_v08_57_00.tar</local>-->
    <!--<local>/pnfs/sbnd/resilient/users/tham/sbncode_nue_prod/tarfiles/sbncode_sbnanalysis_v08_57_00.tar</local>-->
    <local>/pnfs/sbnd/resilient/users/tham/sbncode_nue_prod/tarfiles/sbncode_sbnanalysis_3Dec.tar</local>
  </larsoft>
  
  <!-- Project stages -->
  <stage name="gen">
    <fcl>/sbnd/app/users/tham/sbncode_nue_prod/srcs/sbncode/fcl/gen/genie/prodgenie_bnb_nu_osc_sbn_sbnd.fcl</fcl>
    <outdir>/pnfs/sbnd/persistent/users/tham/sbncode_nue_prod/&release;/&name;/&tag;/gen</outdir>
    <workdir>/pnfs/sbnd/persistent/users/tham/sbncode_nue_prod/&release;/work/&name;/&tag;/gen</workdir>
    <numjobs>10000</numjobs>
    <datatier>generated</datatier>
    <initsource>/sbnd/app/users/tham/sbncode_nue_prod/srcs/sbncode/sbnutil/initsource.sh</initsource>
    <defname>&name;_&tag;_gen</defname>
    <memory>1500</memory>
    <disk>1 GB</disk>
    <schema>root</schema>
    <jobsub>--expected-lifetime=48h</jobsub>
  </stage>

  <stage name="g4">
    <fcl>/sbnd/app/users/tham/sbncode_nue_prod/srcs/sbncode/fcl/g4/standard_g4_sbn_sbnd.fcl</fcl>
    <outdir>/pnfs/sbnd/persistent/users/tham/sbncode_nue_prod/&release;/&name;/&tag;/g4/makeup</outdir>
    <workdir>/pnfs/sbnd/persistent/users/tham/sbncode_nue_prod/&release;/work/&name;/&tag;/g4/makeup</workdir>
    <numjobs>2</numjobs>
    <datatier>simulated</datatier>
    <initsource>/sbnd/app/users/tham/sbncode_nue_prod/srcs/sbncode/sbnutil/initsource.sh</initsource>
    <defname>&name;_&tag;_g4</defname>
    <inputlist>/sbnd/app/users/tham/sbncode_nue_prod/srcs/sbncode/data/lists/nu_osc_gen_sbnd_makeup.list</inputlist> 
    <memory>1000</memory>
    <disk>1 GB</disk>
    <schema>root</schema>-->
    <jobsub>--expected-lifetime=30m</jobsub>
  </stage>
 
  <stage name="eventweightA">
    <fcl>/sbnd/app/users/tham/sbncode_nue_prod/srcs/sbncode/fcl/eventweight/run_eventweight_sbnA.fcl</fcl>
    <outdir>/pnfs/sbnd/persistent/users/tham/sbncode_nue_prod/&release;/&name;/&tag;/eventweightA</outdir>
    <workdir>/pnfs/sbnd/persistent/users/tham/sbncode_nue_prod/&release;/work/&name;/&tag;/eventweightA</workdir>
    <numjobs>10000</numjobs>
    <datatier>simulated</datatier>
    <initsource>/sbnd/app/users/tham/sbncode_nue_prod/srcs/sbncode/sbnutil/initsource.sh</initsource>
    <defname>&name;_&tag;_evenweightA</defname>
    <inputlist>/sbnd/app/users/tham/sbncode_nue_prod/srcs/sbncode/data/lists/nu_osc_g4_sbnd.list</inputlist> 
    <memory>2000</memory>
    <disk>10 GB</disk>
    <schema>root</schema>-->
    <jobsub>--expected-lifetime=24h</jobsub>
  </stage>

  <stage name="eventweightB">
    <fcl>/sbnd/app/users/tham/sbncode_nue_prod/srcs/sbncode/fcl/eventweight/run_eventweight_sbnB.fcl</fcl>
    <outdir>/pnfs/sbnd/persistent/users/tham/sbncode_nue_prod/&release;/&name;/&tag;/eventweightB/makeup2</outdir>
    <workdir>/pnfs/sbnd/persistent/users/tham/sbncode_nue_prod/&release;/work/&name;/&tag;/eventweightB/makeup2</workdir>
    <numjobs>1</numjobs>
    <datatier>simulated</datatier>
    <initsource>/sbnd/app/users/tham/sbncode_nue_prod/srcs/sbncode/sbnutil/initsource.sh</initsource>
    <defname>&name;_&tag;_eventweightB</defname>
    <inputlist>/sbnd/app/users/tham/sbncode_nue_prod/srcs/sbncode/data/lists/nu_osc_eventweightA_sbnd_makeup2.list</inputlist> 
    <memory>8000</memory>
    <disk>10 GB</disk>
    <schema>root</schema>-->
    <jobsub>--expected-lifetime=30m</jobsub>
  </stage>

  <stage name="selection">
    <fcl>/sbnd/app/users/tham/sbncode_nue_prod/srcs/sbncode/sbnanalysis/ana/SBNOsc/config/NueConfigModernSBND_Osc.fcl</fcl>
    <outdir>/pnfs/sbnd/persistent/users/tham/sbncode_nue_prod/&release;/&name;/&tag;/selection_2.0/makeup</outdir>
    <workdir>/pnfs/sbnd/persistent/users/tham/sbncode_nue_prod/&release;/work/&name;/&tag;/selection_2.0/makeup</workdir>
    <numjobs>1</numjobs>
    <datatier>simulated</datatier>
    <initsource>/sbnd/app/users/tham/sbncode_nue_prod/srcs/sbncode/sbnutil/initsource.sh</initsource>
    <!-- absolutely cheat the system. Haters gonna hate  -->
    <exe>run_sbn_grid_SBNOsc_NueSelection</exe>
    <defname>&name;_&tag;_selection</defname>
    <inputlist>/sbnd/app/users/tham/sbncode_nue_prod/srcs/sbncode/data/lists/nu_osc_eventweightB_sbnd_makeup_2.0.list</inputlist> 
    <memory>1000</memory>
    <disk>10 GB</disk>
    <schema>root</schema>-->
    <jobsub>--expected-lifetime=3h</jobsub>
  </stage>

  
  <filetype>&file_type;</filetype>
  
  <!-- run type -->
  <runtype>&run_type;</runtype>
  
</project>

